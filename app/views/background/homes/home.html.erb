<%
  mount_data = {
      labels: @data[:month],
      datasets: [
          {
              label: 'My First dataset',
              fillColor: 'rgba(220,220,220,0.2)',
              strokeColor: 'rgba(220,220,220,1)',
              pointColor: 'rgba(220,220,220,1)',
              pointStrokeColor: '#fff',
              pointHighlightFill: '#fff',
              pointHighlightStroke: 'rgba(220,220,220,1)',
              data: @data[:loan_mount]
          },
          {
              label: 'My Second dataset',
              fillColor: 'rgba(151,187,205,0.2)',
              strokeColor: 'rgba(151,187,205,1)',
              pointColor: 'rgba(151,187,205,1)',
              pointStrokeColor: '#fff',
              pointHighlightFill: '#fff',
              pointHighlightStroke: 'rgba(151,187,205,1)',
              data: @data[:investment_mount]
          },
      # {
      #     label: 'My Second dataset',
      #     fillColor: 'rgba(151,187,205,0.2)',
      #     strokeColor: 'rgba(151,187,205,1)',
      #     pointColor: 'rgba(151,187,205,1)',
      #     pointStrokeColor: '#fff',
      #     pointHighlightFill: '#fff',
      #     pointHighlightStroke: 'rgba(151,187,205,1)',
      #     data: @data[:mount]
      # }
      ]
  }
  options = {}
%>

<%
  loans_and_investments_data = {
      labels: @data[:month],
      datasets: [
          {
              label: 'My First dataset',
              fillColor: 'rgba(220,220,220,0.2)',
              strokeColor: 'rgba(220,220,220,1)',
              pointColor: 'rgba(220,220,220,1)',
              pointStrokeColor: '#fff',
              pointHighlightFill: '#fff',
              pointHighlightStroke: 'rgba(220,220,220,1)',
              data: @data[:loans]
          },
          {
              label: 'My Second dataset',
              fillColor: 'rgba(151,187,205,0.2)',
              strokeColor: 'rgba(151,187,205,1)',
              pointColor: 'rgba(151,187,205,1)',
              pointStrokeColor: '#fff',
              pointHighlightFill: '#fff',
              pointHighlightStroke: 'rgba(151,187,205,1)',
              data: @data[:investments]
          },
      # {
      #     label: 'My Second dataset',
      #     fillColor: 'rgba(151,187,205,0.2)',
      #     strokeColor: 'rgba(151,187,205,1)',
      #     pointColor: 'rgba(151,187,205,1)',
      #     pointStrokeColor: '#fff',
      #     pointHighlightFill: '#fff',
      #     pointHighlightStroke: 'rgba(151,187,205,1)',
      #     data: @data[:mount]
      # }
      ]
  } %>

<%
  user_data = {
      labels: @data[:month],
      datasets: [
          {
              label: 'My Second dataset',
              fillColor: 'rgba(151,187,205,0.2)',
              strokeColor: 'rgba(151,187,205,1)',
              pointColor: 'rgba(151,187,205,1)',
              pointStrokeColor: '#fff',
              pointHighlightFill: '#fff',
              pointHighlightStroke: 'rgba(151,187,205,1)',
              data: @data[:users]
          }
      ]
  }
%>

<%
  # polar_area_data = [
  user_data = [
      {
          value: @data[:users][0],
          color: '#D97041',
          label: @data[:month][0]
      },
      {
          value: @data[:users][1],
          color: '#C7604C',
          label: @data[:month][1]
      },
      {
          value: @data[:users][2],
          color: "#21323D",
          label: @data[:month][2]
      },
      {
          value: @data[:users][3],
          color: "#9D9B7F",
          label: @data[:month][3]
      },
      {
          value: @data[:users][4],
          color: "#7D4F6D",
          label: @data[:month][4]
      },
      {
          value: @data[:users][5],
          color: "#584A5E",
          label: @data[:month][5]
      }
  ]
%>

<%
  pie_data = [
      {
          value: @data[:types][:school],
          color: "#f56954",
          highlight: "#f56954",
          label: "学费"
      },
      {
          value: @data[:types][:car],
          color: "#00a65a",
          highlight: "#00a65a",
          label: "车贷"
      },
      {
          value: @data[:types][:elec],
          color: "#f39c12",
          highlight: "#f39c12",
          label: "数码贷款"
      }
      # {
      #     value: 600,
      #     color: "#00c0ef",
      #     highlight: "#00c0ef",
      #     label: "Safari"
      # },
      # {
      #     value: 300,
      #     color: "#3c8dbc",
      #     highlight: "#3c8dbc",
      #     label: "Opera"
      # },
      # {
      #     value: 100,
      #     color: "#d2d6de",
      #     highlight: "#d2d6de",
      #     label: "Navigator"
      # }
  ]

  pie_options = {
      # Boolean - Whether we should show a stroke on each segment
      segmentShowStroke: true,
      # String - The colour of each segment stroke
      segmentStrokeColor: "#fff",
      # Number - The width of each segment stroke
      segmentStrokeWidth: 2,
      # Number - The percentage of the chart that we cut out of the middle
      percentageInnerCutout: 50, # This is 0 for Pie charts
      # Number - Amount of animation steps
      animationSteps: 100,
      # String - Animation easing effect
      animationEasing: "easeOutBounce",
      # Boolean - Whether we animate the rotation of the Doughnut
      animateRotate: true,
      # Boolean - Whether we animate scaling the Doughnut from the centre
      animateScale: false,
      # Boolean - whether to make the chart responsive to window resizing
      responsive: true,
      # Boolean - whether to maintain the starting aspect ratio or not when responsive, if set to false, will take up entire container
      maintainAspectRatio: true,
      # String - A legend template
  }
%>

<div class="row">
  <div class="col-md-12" style="text-align: center">
    <h1>网站数据统计</h1>
    <br><br><br>
  </div>
</div>

<div class="row">
  <div class="col-md-3">
    <!-- DONUT CHART -->
    <div class="box box-success">
      <div class="box-header with-border">
        <h3 class="box-title">借款及投资总额</h3>

        <div class="box-tools pull-right">
          <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i>
          </button>
          <button type="button" class="btn btn-box-tool" data-widget="remove"><i class="fa fa-times"></i></button>
        </div>
      </div>
      <div class="box-body">
        <!--<canvas id="pieChart" style="height:250px"></canvas>-->
        <%= line_chart mount_data, options %>
      </div>
      <!-- /.box-body -->
    </div>
    <!-- /.box -->
  </div>

  <div class="col-md-3">
    <!-- DONUT CHART -->
    <div class="box box-info">
      <div class="box-header with-border">
        <h3 class="box-title">借款及投资总次数</h3>

        <div class="box-tools pull-right">
          <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i>
          </button>
          <button type="button" class="btn btn-box-tool" data-widget="remove"><i class="fa fa-times"></i></button>
        </div>
      </div>
      <div class="box-body">
        <!--<canvas id="pieChart" style="height:250px"></canvas>-->
        <%= radar_chart loans_and_investments_data, options %>
      </div>
      <!-- /.box-body -->
    </div>
    <!-- /.box -->
  </div>

  <div class="col-md-3">
    <!-- DONUT CHART -->
    <div class="box box-warning">
      <div class="box-header with-border">
        <h3 class="box-title">注册用户数量</h3>

        <div class="box-tools pull-right">
          <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i>
          </button>
          <button type="button" class="btn btn-box-tool" data-widget="remove"><i class="fa fa-times"></i></button>
        </div>
      </div>
      <div class="box-body">
        <!--<canvas id="pieChart" style="height:250px"></canvas>-->
        <%= polar_area_chart user_data, options %>
      </div>
      <!-- /.box-body -->
    </div>
    <!-- /.box -->
  </div>

  <div class="col-md-3">
    <!-- DONUT CHART -->
    <div class="box box-danger">
      <div class="box-header with-border">
        <h3 class="box-title">借款类型</h3>

        <div class="box-tools pull-right">
          <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i>
          </button>
          <button type="button" class="btn btn-box-tool" data-widget="remove"><i class="fa fa-times"></i></button>
        </div>
      </div>
      <div class="box-body">
        <!--<canvas id="pieChart" style="height:250px"></canvas>-->
        <%= pie_chart pie_data, pie_options %>
      </div>
      <!-- /.box-body -->
    </div>
    <!-- /.box -->
  </div>

  <!--<div class="col-md-6">-->
    <!--&lt;!&ndash; DONUT CHART &ndash;&gt;-->
    <!--<div class="box box-danger">-->
      <!--<div class="box-header with-border">-->
        <!--<h3 class="box-title">注册用户数</h3>-->

        <!--<div class="box-tools pull-right">-->
          <!--<button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i>-->
          <!--</button>-->
          <!--<button type="button" class="btn btn-box-tool" data-widget="remove"><i class="fa fa-times"></i></button>-->
        <!--</div>-->
      <!--</div>-->
      <!--<div class="box-body">-->
        <!--&lt;!&ndash;<canvas id="pieChart" style="height:250px"></canvas>&ndash;&gt;-->
        <!--<%# bar_chart data, options %>-->
      <!--</div>-->
      <!--&lt;!&ndash; /.box-body &ndash;&gt;-->
    <!--</div>-->
    <!--&lt;!&ndash; /.box &ndash;&gt;-->
  <!--</div>-->


</div>

<!--<div class="row">-->


  <!--<div class="col-md-6">-->
    <!--&lt;!&ndash; DONUT CHART &ndash;&gt;-->
    <!--<div class="box box-danger">-->
      <!--<div class="box-header with-border">-->
        <!--<h3 class="box-title">6666</h3>-->

        <!--<div class="box-tools pull-right">-->
          <!--<button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i>-->
          <!--</button>-->
          <!--<button type="button" class="btn btn-box-tool" data-widget="remove"><i class="fa fa-times"></i></button>-->
        <!--</div>-->
      <!--</div>-->
      <!--<div class="box-body">-->
        <!--&lt;!&ndash;<canvas id="pieChart" style="height:250px"></canvas>&ndash;&gt;-->
        <!--<%# doughnut_chart polar_area_data, options %>-->
      <!--</div>-->
      <!--&lt;!&ndash; /.box-body &ndash;&gt;-->
    <!--</div>-->
    <!--&lt;!&ndash; /.box &ndash;&gt;-->
  <!--</div>-->
<!--</div>-->